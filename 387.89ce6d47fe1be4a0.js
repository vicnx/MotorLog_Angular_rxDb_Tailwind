"use strict";(self.webpackChunkmotorlog=self.webpackChunkmotorlog||[]).push([[387],{9387:(N,h,s)=>{s.r(h),s.d(h,{ProfileComponent:()=>w});var c=s(177),u=s(9417),l=s(3955),d=s(8257),g=s(9644),e=s(4438),p=s(1570);let v=(()=>{class a extends g.${constructor(){super(...arguments),this.visible=!1,this.close=new e.bkB,this.newAvatar=d.a.defaultImage}ngOnInit(){this.generateNewAvatar()}generateNewAvatar(){this.spinnerSvc.show(),setTimeout(()=>{this.newAvatar=this.utilsSvc.generateAvatar(this.userSvc.user().name+(new Date).toString()),this.spinnerSvc.hide()},500)}onApply(){this.userSvc.updateUser("1",{avatar:this.newAvatar}).subscribe({next:n=>{this.close.emit()}}),console.log("Nuevo avatar aplicado:",this.newAvatar)}onGenerateAnother(){this.generateNewAvatar()}onDialogClose(){this.close.emit()}static{this.\u0275fac=(()=>{let n;return function(t){return(n||(n=e.xGo(a)))(t||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-avatar-dialog"]],inputs:{visible:"visible"},outputs:{close:"close"},standalone:!0,features:[e.Vt3,e.aNF],decls:15,vars:19,consts:[[3,"visibleChange","onHide","header","visible","modal","closable"],[1,"flex","flex-col","items-center"],[1,"h-32","w-32","rounded-full","mb-4",3,"src","alt"],[1,"flex","justify-between","w-full","mt-4"],[1,"p-button","p-button-secondary",3,"click"],[1,"p-button","p-button-primary",3,"click"]],template:function(o,t){1&o&&(e.j41(0,"p-dialog",0),e.nI1(1,"translate"),e.mxI("visibleChange",function(r){return e.DH7(t.visible,r)||(t.visible=r),r}),e.bIt("onHide",function(){return t.onDialogClose()}),e.j41(2,"div",1),e.nrm(3,"img",2),e.nI1(4,"translate"),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",3)(9,"button",4),e.bIt("click",function(){return t.onGenerateAnother()}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"button",5),e.bIt("click",function(){return t.onApply()}),e.EFF(13),e.nI1(14,"translate"),e.k0s()()()()),2&o&&(e.Y8G("header",e.bMT(1,9,"userActions.generateAvatar.title")),e.R50("visible",t.visible),e.Y8G("modal",!0)("closable",!0),e.R7$(3),e.Y8G("src",t.newAvatar,e.B4B)("alt",e.bMT(4,11,"userActions.generateAvatar.title")),e.R7$(3),e.JRh(e.bMT(7,13,"userActions.generateAvatar.msg")),e.R7$(4),e.JRh(e.bMT(11,15,"userActions.generateAvatar.generateOther")),e.R7$(3),e.JRh(e.bMT(14,17,"userActions.generateAvatar.apply")))},dependencies:[p.P,p.l,l.h,l.D9],encapsulation:2})}}return a})(),f=(()=>{class a extends g.${constructor(){super(...arguments),this.visible=!1,this.close=new e.bkB,this.newName=""}onApply(){this.userSvc.updateUser("1",{name:this.newName}).subscribe({next:n=>{this.close.emit(),console.log(this.userSvc.user())}}),console.log("Nuevo nombre aplicado:",this.newName)}onDialogClose(){this.close.emit()}static{this.\u0275fac=(()=>{let n;return function(t){return(n||(n=e.xGo(a)))(t||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-change-name-dialog"]],inputs:{visible:"visible"},outputs:{close:"close"},standalone:!0,features:[e.Vt3,e.aNF],decls:16,vars:19,consts:[[3,"visibleChange","onHide","header","visible","modal","closable"],[1,"flex","flex-col","items-center"],[1,"w-full","mt-4"],[1,"block","mb-2","text-sm"],["type","text",1,"w-full","p-inputtext","p-component","border","border-gray-300","rounded-lg",3,"ngModelChange","ngModel","placeholder"],[1,"flex","justify-between","w-full","mt-6"],[1,"p-button","p-button-primary",3,"click"]],template:function(o,t){1&o&&(e.j41(0,"p-dialog",0),e.nI1(1,"translate"),e.mxI("visibleChange",function(r){return e.DH7(t.visible,r)||(t.visible=r),r}),e.bIt("onHide",function(){return t.onDialogClose()}),e.j41(2,"div",1)(3,"p"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",2)(7,"label",3),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",4),e.nI1(11,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(t.newName,r)||(t.newName=r),r}),e.k0s()(),e.j41(12,"div",5)(13,"button",6),e.bIt("click",function(){return t.onApply()}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()),2&o&&(e.Y8G("header",e.bMT(1,9,"userActions.changeName.title")),e.R50("visible",t.visible),e.Y8G("modal",!0)("closable",!0),e.R7$(4),e.JRh(e.bMT(5,11,"userActions.changeName.msg")),e.R7$(4),e.JRh(e.bMT(9,13,"userActions.changeName.label")),e.R7$(2),e.FS9("placeholder",e.bMT(11,15,"userActions.changeName.placeholder")),e.R50("ngModel",t.newName),e.R7$(4),e.SpI(" ",e.bMT(15,17,"userActions.changeName.apply")," "))},dependencies:[p.P,p.l,l.h,l.D9,u.YN,u.me,u.BC,u.vS],encapsulation:2})}}return a})(),_=(()=>{class a extends g.${constructor(){super(...arguments),this.handleAction=new e.bkB}ngOnInit(){}handleUserAction(n){this.handleAction.emit(n)}static{this.\u0275fac=(()=>{let n;return function(t){return(n||(n=e.xGo(a)))(t||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-settings-button"]],inputs:{action:"action"},outputs:{handleAction:"handleAction"},standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"w-full","mb-4","flex","justify-between","items-center","dark:bg-gray-800","text-gray-800","dark:text-white","border","border-gray-300","dark:border-gray-700","rounded-lg","py-3","px-4","transition-colors","duration-200","hover:bg-gray-200","dark:hover:bg-gray-700",3,"click"],[1,"flex","items-center","space-x-3"],[3,"ngClass"],[1,"text-lg"],[1,"fas","fa-chevron-right","text-gray-500","dark:text-gray-400"]],template:function(o,t){1&o&&(e.j41(0,"button",0),e.bIt("click",function(){return t.handleUserAction(t.action.action)}),e.j41(1,"span",1),e.nrm(2,"i",2),e.j41(3,"span",3),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.nrm(6,"i",4),e.k0s()),2&o&&(e.R7$(2),e.Y8G("ngClass",t.action.icon+" text-gray-600 dark:text-gray-300"),e.R7$(2),e.JRh(e.bMT(5,2,t.action.label)))},dependencies:[c.MD,c.YU,l.h,l.D9]})}}return a})();var b=s(1141),A=s(8833);function C(a,m){if(1&a){const n=e.RV6();e.qex(0),e.j41(1,"app-settings-button",12),e.bIt("handleAction",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.handleUserAction(t))}),e.k0s(),e.bVm()}if(2&a){const n=m.$implicit;e.R7$(),e.Y8G("action",n)}}function y(a,m){if(1&a){const n=e.RV6();e.j41(0,"app-avatar-dialog",13),e.bIt("close",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.showAvatarDialog=!1)}),e.k0s()}if(2&a){const n=e.XpG();e.Y8G("visible",n.showAvatarDialog)}}function k(a,m){if(1&a){const n=e.RV6();e.j41(0,"app-change-name-dialog",13),e.bIt("close",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.showChangeNameDialog=!1)}),e.k0s()}if(2&a){const n=e.XpG();e.Y8G("visible",n.showChangeNameDialog)}}let w=(()=>{class a extends g.${constructor(){super(...arguments),this.userActions=[{label:"userActions.generateAvatar.title",icon:"fas fa-image",action:"generateAvatar"},{label:"userActions.changeName.title",icon:"fas fa-user-edit",action:"changeName"},{label:"pages.custom-services.title",icon:"fas fa-wrench",action:"customServices"}],this.showAvatarDialog=!1,this.showChangeNameDialog=!1}ngOnInit(){this.userSvc.page.update(n=>"pages.profile.title")}handleUserAction(n){switch(n){case"generateAvatar":this.showAvatarDialog=!0;break;case"changeName":this.showChangeNameDialog=!0;break;case"customServices":this.routerSvc.navigate([`${d.a.routes.customServiceList}`]);break;default:console.log("Acci\xf3n no reconocida")}}logoutUser(){this.userSvc.logoutUser()}static{this.\u0275fac=(()=>{let n;return function(t){return(n||(n=e.xGo(a)))(t||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-profile"]],standalone:!0,features:[e.Vt3,e.aNF],decls:16,vars:11,consts:[[1,"h-screen","dark:bg-gray-700","bg-gray-200","pt-8"],[1,"max-w-sm","mx-4","sm:mx-auto","bg-white","dark:bg-gray-900","rounded-lg","overflow-hidden","shadow-lg"],[1,"border-b","px-4","pb-2"],[1,"text-center","my-4"],[1,"h-32","w-32","rounded-full","border-4","border-white","dark:border-gray-800","mx-auto","my-4",3,"src","alt"],[1,"py-2"],[1,"font-bold","text-2xl","text-gray-800","dark:text-white","mb-1"],[1,"px-4","py-6"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","justify-center","items-center","pb-3"],["severity","danger",3,"onClick","rounded","text"],[3,"visible","close",4,"ngIf"],[3,"handleAction","action"],[3,"close","visible"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"img",4),e.j41(5,"div",5)(6,"h3",6),e.EFF(7),e.k0s()()()(),e.j41(8,"div",7),e.DNE(9,C,2,1,"ng-container",8),e.k0s(),e.j41(10,"div",9)(11,"p-button",10),e.bIt("onClick",function(){return t.logoutUser()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()(),e.DNE(14,y,1,1,"app-avatar-dialog",11)(15,k,1,1,"app-change-name-dialog",11),e.k0s()),2&o&&(e.R7$(4),e.Y8G("src",t.userSvc.user().avatar,e.B4B)("alt",t.userSvc.user().name),e.R7$(3),e.JRh(t.userSvc.user().name),e.R7$(2),e.Y8G("ngForOf",t.userActions),e.R7$(2),e.Y8G("rounded",!1)("text",!0),e.R7$(),e.JRh(e.bMT(13,9,"userActions.logout")),e.R7$(2),e.Y8G("ngIf",t.showAvatarDialog),e.R7$(),e.Y8G("ngIf",t.showChangeNameDialog))},dependencies:[c.MD,c.Sq,c.bT,A.kr,u.YN,l.h,l.D9,b.tm,b.$n,v,_,f],encapsulation:2})}}return a})()}}]);