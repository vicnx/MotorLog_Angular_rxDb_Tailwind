"use strict";(self.webpackChunkmotorlog=self.webpackChunkmotorlog||[]).push([[991],{991:(D,p,n)=>{n.r(p),n.d(p,{WelcomeComponent:()=>I});var s=n(177),t=n(4438),o=n(9417),_=n(3955),h=n(8257),g=n(9644),i=n(1141),E=n(2242),c=n(9998);const l=e=>({userName:e});function a(e,u){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.SpI(" ",t.bMT(1,1,"welcome.title")," ")}function f(e,u){if(1&e&&(t.j41(0,"span",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const m=t.XpG();t.R7$(),t.SpI("\u{1f44b} ",t.i5U(2,1,"welcome.welcome-back",t.eq3(4,l,m.userSvc.user().name))," \u{1f44b}")}}function v(e,u){if(1&e&&t.nrm(0,"input",15),2&e){const m=t.XpG();t.Y8G("maxlength",m.const.form.inputText.maxLength)}}function x(e,u){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.SpI(" ",t.bMT(1,1,"welcome.start")," ")}function M(e,u){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.SpI(" ",t.bMT(1,1,"welcome.continue")," ")}function C(e,u){if(1&e){const m=t.RV6();t.j41(0,"footer",13)(1,"div",16)(2,"p",17),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p-button",18),t.bIt("onClick",function(){t.eBV(m);const r=t.XpG();return t.Njj(r.importData())}),t.k0s()()()}2&e&&(t.R7$(3),t.JRh(t.bMT(4,3,"welcome.importText")),t.R7$(2),t.Y8G("rounded",!1)("text",!0))}let I=(()=>{class e extends g.${constructor(){super(),this.welcomeImg="assets/images/welcome.svg",this.loginForm=new o.gE({userName:new o.MJ("",[o.k0.required,o.k0.maxLength(Number(h.a.form.inputText))])}),(0,t.QZP)(()=>{this.userSvc.userExistOnBd()&&this.userSvc.checkUserExistsDb(),this.userSvc.isUserLogged()&&this.routerSvc.navigate([this.const.routes.home])})}ngOnInit(){this.checkUser()}checkErrors(){return this.userSvc.userExistOnBd()&&!this.userSvc.isUserLogged()?(this.userSvc.setLogginUser(!0),this.spinnerSvc.hide(),void this.userSvc.displayWelcomeDialogInfo.set(!0)):(this.spinnerSvc.show(),this.loginForm.invalid?(this.showErrorMsg(this.translateSvc.instant("errors.MSGS.name")),void this.spinnerSvc.hide()):void this.registerUser())}importData(){this.showNotImplemented()}registerUser(){this.userSvc.userExistOnBd()||(this.userSvc.setUser(this.loginForm.get("userName")?.value),this.userSvc.displayWelcomeDialogInfo.set(!0),this.spinnerSvc.hide())}static{this.\u0275fac=function(d){return new(d||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["welcome-page"]],standalone:!0,features:[t.Vt3,t.aNF],decls:23,vars:11,consts:[[3,"ngSubmit","formGroup"],[1,"h-screen","flex","flex-col"],[1,"flex","flex-col","justify-center","flex-grow"],[1,"flex","items-center","flex-col"],["alt","",1,"h-32","mx-auto",3,"src"],[1,"text-2xl","mt-5"],[1,"text-primary-500","font-bold"],[1,"w-3/4","text-center","text-sm","mt-2"],[1,"p-4","mt-1","w-3/4","text-center"],[1,"mb-1"],[1,"text-xl"],["type","submit",3,"outlined"],[1,"fas","fa-chevron-right","ml-2"],[1,"flex","items-center","flex-col","p-4","mt-4","text-center","w-100","mb-5"],["key","toast","position","top-center"],["type","text","name","userName","formControlName","userName","required","","placeholder","Name","pInputText","",1,"m-2",3,"maxlength"],[1,"w-3/4"],[1,"text-xs"],["icon","fas fa-cloud-download-alt",3,"onClick","rounded","text"]],template:function(d,r){1&d&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return r.checkErrors()}),t.j41(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"img",4),t.j41(5,"h1",5),t.DNE(6,a,2,3),t.j41(7,"span",6),t.EFF(8),t.k0s()(),t.j41(9,"p",7),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"div",8)(13,"div",9),t.DNE(14,f,3,6,"span",10)(15,v,1,1),t.k0s()(),t.j41(16,"div")(17,"p-button",11),t.DNE(18,x,2,3)(19,M,2,3),t.nrm(20,"i",12),t.k0s()()()(),t.DNE(21,C,6,5,"footer",13),t.k0s(),t.nrm(22,"p-toast",14),t.k0s()),2&d&&(t.Y8G("formGroup",r.loginForm),t.R7$(4),t.Y8G("src",r.welcomeImg,t.B4B),t.R7$(2),t.vxM(6,r.userSvc.userExistOnBd()?-1:6),t.R7$(2),t.SpI(" ",r.const.appName," \u{1f697}"),t.R7$(2),t.JRh(t.bMT(11,9,"welcome.info")),t.R7$(4),t.vxM(14,r.userSvc.userExistOnBd()&&!r.userSvc.isUserLogged()?14:15),t.R7$(3),t.Y8G("outlined",!0),t.R7$(),t.vxM(18,r.userSvc.userExistOnBd()?19:18),t.R7$(3),t.vxM(21,r.userSvc.userExistOnBd()?-1:21))},dependencies:[s.MD,_.h,_.D9,o.X1,o.qT,o.me,o.BC,o.cb,o.YS,o.tU,o.j4,o.JD,E.u,E.S,i.tm,i.$n,c.MB,c.y8],changeDetection:0})}}return e})()},2242:(D,p,n)=>{n.d(p,{S:()=>h,u:()=>g});var s=n(4438),t=n(177),o=n(9417),_=n(5779);let h=(()=>{class i{el;ngModel;cd;config;variant="outlined";filled;constructor(c,l,a,f){this.el=c,this.ngModel=l,this.cd=a,this.config=f}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(l){return new(l||i)(s.rXU(s.aKT),s.rXU(o.vS,8),s.rXU(s.gRc),s.rXU(_.r1))};static \u0275dir=s.FsC({type:i,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(l,a){1&l&&s.bIt("input",function(v){return a.onInput(v)}),2&l&&s.AVh("p-filled",a.filled)("p-variant-filled","filled"===a.variant||"filled"===a.config.inputStyle())},inputs:{variant:"variant"}})}return i})(),g=(()=>{class i{static \u0275fac=function(l){return new(l||i)};static \u0275mod=s.$C({type:i});static \u0275inj=s.G2t({imports:[t.MD]})}return i})()}}]);