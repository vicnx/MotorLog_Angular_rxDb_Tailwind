"use strict";(self.webpackChunkmotorlog=self.webpackChunkmotorlog||[]).push([[103],{5103:(A,u,n)=>{n.r(u),n.d(u,{ProfileComponent:()=>f});var l=n(177),p=n(9417),i=n(3955),g=n(9644),e=n(4438),d=n(1570);let v=(()=>{class r extends g.${constructor(){super(...arguments),this.visible=!1,this.close=new e.bkB,this.newAvatar=""}ngOnInit(){this.generateNewAvatar()}generateNewAvatar(){this.spinnerSvc.show(),setTimeout(()=>{this.newAvatar=this.utilsSvc.generateAvatar(this.userSvc.user().name+(new Date).toString()),this.spinnerSvc.hide()},500)}onApply(){this.userSvc.updateUser("1",{avatar:this.newAvatar}).subscribe({next:a=>{this.close.emit()}}),console.log("Nuevo avatar aplicado:",this.newAvatar)}onGenerateAnother(){this.generateNewAvatar()}static{this.\u0275fac=(()=>{let a;return function(t){return(a||(a=e.xGo(r)))(t||r)}})()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-avatar-dialog"]],inputs:{visible:"visible"},outputs:{close:"close"},standalone:!0,features:[e.Vt3,e.aNF],decls:15,vars:19,consts:[[3,"visibleChange","header","visible","modal","closable"],[1,"flex","flex-col","items-center"],[1,"h-32","w-32","rounded-full","mb-4",3,"src","alt"],[1,"flex","justify-between","w-full","mt-4"],[1,"p-button","p-button-secondary",3,"click"],[1,"p-button","p-button-primary",3,"click"]],template:function(o,t){1&o&&(e.j41(0,"p-dialog",0),e.nI1(1,"translate"),e.mxI("visibleChange",function(c){return e.DH7(t.visible,c)||(t.visible=c),c}),e.j41(2,"div",1),e.nrm(3,"img",2),e.nI1(4,"translate"),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",3)(9,"button",4),e.bIt("click",function(){return t.onGenerateAnother()}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"button",5),e.bIt("click",function(){return t.onApply()}),e.EFF(13),e.nI1(14,"translate"),e.k0s()()()()),2&o&&(e.Y8G("header",e.bMT(1,9,"userActions.generateAvatar.title")),e.R50("visible",t.visible),e.Y8G("modal",!0)("closable",!1),e.R7$(3),e.Y8G("src",t.newAvatar,e.B4B)("alt",e.bMT(4,11,"userActions.generateAvatar.title")),e.R7$(3),e.JRh(e.bMT(7,13,"userActions.generateAvatar.msg")),e.R7$(4),e.JRh(e.bMT(11,15,"userActions.generateAvatar.generateOther")),e.R7$(3),e.JRh(e.bMT(14,17,"userActions.generateAvatar.apply")))},dependencies:[d.P,d.l,i.h,i.D9],encapsulation:2})}}return r})();var m=n(1141),b=n(8833);function h(r,y){if(1&r){const a=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){const t=e.eBV(a).$implicit,s=e.XpG();return e.Njj(s.handleUserAction(t.action))}),e.j41(1,"span",13),e.nrm(2,"i",14),e.j41(3,"span",15),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.nrm(6,"i",16),e.k0s()}if(2&r){const a=y.$implicit;e.R7$(2),e.Y8G("ngClass",a.icon+" text-gray-600 dark:text-gray-300"),e.R7$(2),e.JRh(e.bMT(5,2,a.label))}}let f=(()=>{class r extends g.${constructor(){super(...arguments),this.userActions=[{label:"userActions.generateAvatar.title",icon:"fas fa-image",action:"generateAvatar"},{label:"userActions.changeName",icon:"fas fa-user-edit",action:"changeName"}],this.showAvatarDialog=!1}handleUserAction(a){switch(a){case"generateAvatar":this.showAvatarDialog=!0;break;case"changeName":this.showNotImplemented();break;default:console.log("Acci\xf3n no reconocida")}}logoutUser(){this.userSvc.logoutUser()}static{this.\u0275fac=(()=>{let a;return function(t){return(a||(a=e.xGo(r)))(t||r)}})()}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-profile"]],standalone:!0,features:[e.Vt3,e.aNF],decls:15,vars:10,consts:[[1,"h-screen","dark:bg-gray-700","bg-gray-200","pt-8"],[1,"max-w-sm","mx-4","sm:mx-auto","bg-white","dark:bg-gray-900","rounded-lg","overflow-hidden","shadow-lg"],[1,"border-b","px-4","pb-2"],[1,"text-center","my-4"],[1,"h-32","w-32","rounded-full","border-4","border-white","dark:border-gray-800","mx-auto","my-4",3,"src","alt"],[1,"py-2"],[1,"font-bold","text-2xl","text-gray-800","dark:text-white","mb-1"],[1,"px-4","py-6"],["class","w-full mb-4 flex justify-between items-center dark:bg-gray-800 text-gray-800 dark:text-white border border-gray-300 dark:border-gray-700 rounded-lg py-3 px-4 transition-colors duration-200 hover:bg-gray-200 dark:hover:bg-gray-700",3,"click",4,"ngFor","ngForOf"],[1,"flex","flex-col","justify-center","items-center","pb-3"],["severity","danger",3,"onClick","rounded","text"],[3,"close","visible"],[1,"w-full","mb-4","flex","justify-between","items-center","dark:bg-gray-800","text-gray-800","dark:text-white","border","border-gray-300","dark:border-gray-700","rounded-lg","py-3","px-4","transition-colors","duration-200","hover:bg-gray-200","dark:hover:bg-gray-700",3,"click"],[1,"flex","items-center","space-x-3"],[3,"ngClass"],[1,"text-lg"],[1,"fas","fa-chevron-right","text-gray-500","dark:text-gray-400"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"img",4),e.j41(5,"div",5)(6,"h3",6),e.EFF(7),e.k0s()()()(),e.j41(8,"div",7),e.DNE(9,h,7,4,"button",8),e.k0s(),e.j41(10,"div",9)(11,"p-button",10),e.bIt("onClick",function(){return t.logoutUser()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"app-avatar-dialog",11),e.bIt("close",function(){return t.showAvatarDialog=!1}),e.k0s()()),2&o&&(e.R7$(4),e.Y8G("src",t.userSvc.user().avatar,e.B4B)("alt",t.userSvc.user().name),e.R7$(3),e.JRh(t.userSvc.user().name),e.R7$(2),e.Y8G("ngForOf",t.userActions),e.R7$(2),e.Y8G("rounded",!1)("text",!0),e.R7$(),e.JRh(e.bMT(13,8,"userActions.logout")),e.R7$(2),e.Y8G("visible",t.showAvatarDialog))},dependencies:[l.MD,l.YU,l.Sq,b.kr,p.YN,i.h,i.D9,m.tm,m.$n,v],encapsulation:2})}}return r})()}}]);